/* Detect step styles â€” supports both legacy .app-step-detect and new .step--detect wrappers */

.step--detect h3, .step--detect .stMarkdown h3,
.app-step-detect h3, .app-step-detect .stMarkdown h3 { margin-bottom: 0 !important; }

.step--detect iframe,
.app-step-detect iframe { margin-bottom: 0 !important; }

.step--detect .autodetect-btn,
.app-step-detect .autodetect-btn { margin-top: 0; }

.step--detect .autodetect-btn > button,
.app-step-detect .autodetect-btn > button {
  width: 100% !important;
  border-radius: var(--fc-radius) !important;
  min-height: 40px;
  font-weight: 600;
}

/* Grid simple etiqueta | control */
.step--detect .form-row,
.app-step-detect .form-row {
  display: grid; grid-template-columns: 1fr 2fr; gap: .5rem; align-items: center;
  margin-top: 0;
}
.step--detect .form-label,
.app-step-detect .form-label { margin: 0; }

/* Fila Back | Continue */
.step--detect .app-nav-buttons,
.app-step-detect .app-nav-buttons { margin-top: .5rem; }

.step--detect .app-nav-buttons [data-testid="stHorizontalBlock"],
.app-step-detect .app-nav-buttons [data-testid="stHorizontalBlock"] {
  margin-top: 0 !important;
  gap: .6rem !important;
  align-items: stretch !important;
}

.step--detect .app-nav-buttons [data-testid="column"] > div,
.app-step-detect .app-nav-buttons [data-testid="column"] > div { width: 100%; }

.step--detect .app-nav-buttons button,
.app-step-detect .app-nav-buttons button {
  border-radius: var(--fc-radius) !important;
  min-height: 44px;
  width: 100%;
  font-weight: 600;
  font-size: .95rem;
  letter-spacing: .01em;
  border: 1px solid transparent;
  transition: background .15s ease, border-color .15s ease, transform .15s ease, box-shadow .15s ease;
}

.step--detect .app-nav-buttons [data-testid="column"]:first-child button,
.app-step-detect .app-nav-buttons [data-testid="column"]:first-child button {
  background: transparent !important;
  color: var(--fc-danger) !important;
  border-color: rgba(239,68,68,.6) !important;
}
.step--detect .app-nav-buttons [data-testid="column"]:first-child button:hover:not(:disabled),
.app-step-detect .app-nav-buttons [data-testid="column"]:first-child button:hover:not(:disabled) {
  background: rgba(239,68,68,.10) !important;
  border-color: rgba(239,68,68,.9) !important;
  transform: translateY(-1px);
}

.step--detect .app-nav-buttons [data-testid="column"]:last-child button,
.app-step-detect .app-nav-buttons [data-testid="column"]:last-child button {
  background: linear-gradient(135deg, rgba(34,197,94,.95), rgba(16,185,129,.95)) !important;
  color: #ecfdf5 !important;
  border-color: rgba(34,197,94,.8) !important;
  box-shadow: var(--fc-shadow-1);
}
.step--detect .app-nav-buttons [data-testid="column"]:last-child button:hover:not(:disabled),
.app-step-detect .app-nav-buttons [data-testid="column"]:last-child button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: var(--fc-shadow-1h);
}

.step--detect .app-nav-buttons button:disabled,
.app-step-detect .app-nav-buttons button:disabled {
  opacity: .55 !important;
  transform: none !important;
  box-shadow: none !important;
  cursor: not-allowed !important;
}

/* Alertas compactas */
.step--detect .stAlert,
.app-step-detect .stAlert { margin-top: .35rem; margin-bottom: .4rem; }

/* Ajustes de layout dentro del step */
.step--detect .form-label--inline,
.app-step-detect .form-label--inline { min-height: auto; }

.step--detect [data-testid="stHorizontalBlock"],
.app-step-detect [data-testid="stHorizontalBlock"] { margin-top: .2rem !important; align-items: center !important; }

.step--detect [data-testid="column"] > div,
.app-step-detect [data-testid="column"] > div { margin-top: 0 !important; padding-top: 0 !important; }

/* Selects BaseWeb sin margen superior adicional */
.step--detect [data-baseweb="select"],
.app-step-detect [data-baseweb="select"] { margin-top: 0 !important; }
